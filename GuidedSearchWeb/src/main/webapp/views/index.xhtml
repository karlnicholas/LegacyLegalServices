<ui:composition template="/views/template/template.xhtml" xmlns="http://www.w3.org/1999/xhtml"
  xmlns:ui="http://xmlns.jcp.org/jsf/facelets" 
  xmlns:h="http://xmlns.jcp.org/jsf/html" 
  xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
  xmlns:gscomp="http://xmlns.jcp.org/jsf/composite/gscomp">
  <ui:define name="prehead">
    <f:metadata>
      <f:viewParam name="path" value="#{guidedSearchController.path}" />
      <f:viewParam name="term" value="#{guidedSearchController.term}" />
      <f:viewParam name="fragments" value="#{guidedSearchController.fragments}" />
    </f:metadata>
  </ui:define>
  <ui:define name="title">
    <h:outputText value="Op - Home" />
  </ui:define>
  <ui:define name="content">
	<ol class="breadcrumb">
	<li><h:outputLink value="/" p:data-toggle="tooltip" p:data-placement="bottom" title="Home">Home<f:param name="term" value="#{guidedSearchController.term}" />
	</h:outputLink></li>
	<ui:repeat value="#{guidedSearchController.breadcrumb}" var="breadcrumb">
		<li>
		<h:outputLink value="/" p:data-toggle="tooltip" p:data-placement="bottom" title="#{breadcrumb.statutesBaseClass.title}">
		<ui:fragment rendered="#{breadcrumb.entries.size() eq 1}"><h:outputText value="#{breadcrumb.text}"/></ui:fragment>
		<ui:fragment rendered="#{breadcrumb.entries.size() gt 1}"><h:outputText value="#{breadcrumb.text}"/> - <h:outputText value="#{breadcrumb.statutesBaseClass.title}"/></ui:fragment>
		<f:param name="path" value="#{breadcrumb.fullFacet}" />
		<f:param name="term" value="#{guidedSearchController.term}" />
		</h:outputLink>
		</li>
	</ui:repeat>
	<ui:fragment rendered="#{!empty guidedSearchController.term}">
	<li><span class="badge pull-right">${viewModel.totalCount}</span></li>
	</ui:fragment>
	</ol>
	<div class="container-fluid">
	<div class="panel-group" id="accordion">
	<div class='panel'>
	<ui:repeat value="#{guidedSearchController.entries}" var="entry" varStatus="status">
		<gscomp:displayReference rendered="#{!entry.pathPart and !entry.sectionText}" entry="#{entry}" index="#{status.index}" />
		<gscomp:displayText rendered="#{entry.sectionText}" entry="#{entry}" />
	</ui:repeat>
	</div>
	</div>
	</div>
  </ui:define>
</ui:composition>